<!-- File: app/templates/user/partials/overseerr_error.html -->
{% if error_type == 'no_plex_account' %}
    <div class="alert alert-info">
        <i class="fa-solid fa-info-circle"></i>
        <div>No Plex account found for Overseerr requests. (Debug: plex_user_id={{ debug_info.plex_user_id }}, plex_username={{ debug_info.plex_username }})</div>
    </div>
{% elif error_type == 'linking_error' %}
    <div class="alert alert-error">
        <i class="fa-solid fa-exclamation-triangle"></i>
        <div>
            <h4 class="font-bold">Linking Error</h4>
            <div class="text-sm">{{ message }}</div>
            <div class="text-xs mt-1 opacity-70">Debug info: plex_user_id={{ debug_info.plex_user_id }}, plex_username={{ debug_info.plex_username }}</div>
        </div>
    </div>
{% elif error_type == 'user_not_found' %}
    <div class="alert alert-warning">
        <i class="fa-solid fa-user-slash"></i>
        <div>
            <h4 class="font-bold">Account Not Found in Overseerr</h4>
            <div class="text-sm">
                The Plex user <strong>{{ debug_info.plex_username }}</strong> was not found in Overseerr. 
                Please ensure the user has signed into Overseerr at least once.
            </div>
            <div class="mt-2">
                <a href="{{ server.overseerr_url }}" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   class="btn btn-sm btn-primary">
                    <i class="fa-solid fa-external-link mr-1"></i>
                    Open Overseerr
                </a>
            </div>
        </div>
    </div>
{% elif error_type == 'api_error' %}
    <div class="alert alert-error">
        <i class="fa-solid fa-exclamation-circle"></i>
        <div>
            <h4 class="font-bold">Error Loading Requests</h4>
            <div class="text-sm">{{ message }}</div>
        </div>
    </div>
{% else %}
    <div class="alert alert-error">
        <i class="fa-solid fa-exclamation-circle"></i>
        <div>
            <h4 class="font-bold">Unexpected Error</h4>
            <div class="text-sm">{{ message }}</div>
        </div>
    </div>
{% endif %}