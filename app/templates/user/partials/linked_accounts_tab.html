<!-- Linked Accounts Tab -->
<div class="space-y-6">
    <!-- Linked Service Accounts -->
    <div class="card bg-base-100 border border-base-300">
        <div class="card-body">
            <h2 class="card-title text-lg font-semibold mb-4">
                <i class="fa-solid fa-link text-primary"></i>
                Linked Service Accounts
            </h2>
            
            {% if linked_accounts %}
                <div class="space-y-4">
                    {% for media_access in linked_accounts %}
                        {% set service_info = media_access.get_service_badge_info() %}
                        <div class="flex items-center justify-between p-4 border border-base-300 rounded-lg">
                            <div class="flex items-center gap-4">
                                <div class="avatar">
                                    <div class="w-12 h-12 rounded-full {{ service_info.color }} text-white flex items-center justify-center">
                                        <i class="{{ service_info.icon }}"></i>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-base-content">{{ service_info.name }}</h3>
                                    <p class="text-sm text-base-content/70">{{ media_access.external_username }}</p>
                                    {% if media_access.external_email %}
                                        <p class="text-xs text-base-content/50">{{ media_access.external_email }}</p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="text-right">
                                <span class="badge badge-success badge-sm">Connected</span>
                                {% if media_access.service_join_date %}
                                    <p class="text-xs text-base-content/50 mt-1">
                                        Joined {{ media_access.service_join_date.strftime('%b %Y') }}
                                    </p>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-center py-8">
                    <i class="fa-solid fa-unlink text-4xl text-base-content/30 mb-4"></i>
                    <h3 class="text-lg font-semibold text-base-content mb-2">No Linked Accounts</h3>
                    <p class="text-base-content/70 mb-4">You haven't linked any service accounts yet.</p>
                    <div class="alert alert-info">
                        <i class="fa-solid fa-info-circle"></i>
                        <span>Service accounts can be linked when you use invites to access media servers.</span>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>