<!-- Discord Authentication Step app\templates\invite\steps\_discord_step.html -->
<div class="step-section bg-base-200/30 border border-base-300 rounded-lg p-6" id="discord-step">
    <!-- Step Header -->
    <div class="flex items-center gap-3 mb-6">
        <div class="w-10 h-10 rounded-full bg-[#5865F2]/20 flex items-center justify-center flex-shrink-0">
            <i class="fa-brands fa-discord text-[#5865F2] text-lg"></i>
        </div>
        <div>
            <h2 class="text-xl font-semibold text-base-content mb-1">Discord Authentication</h2>
            <p class="text-sm text-base-content/70">
                {% if discord_sso_is_mandatory %}
                    Required to continue with your invite
                {% else %}
                    Optional - Connect your Discord account
                {% endif %}
            </p>
            {% if not discord_sso_is_mandatory %}
                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-base-300/50 text-base-content/70 mt-1">
                    Optional
                </span>
            {% endif %}
        </div>
    </div>
    
    {% if setting_require_guild_membership %}
        <div class="bg-[#5865F2]/10 border border-[#5865F2]/20 rounded-lg p-4 mb-6">
            <div class="flex items-start gap-3">
                <div class="w-6 h-6 rounded-full bg-[#5865F2]/20 flex items-center justify-center flex-shrink-0 mt-0.5">
                    <i class="fa-solid fa-info text-[#5865F2] text-xs"></i>
                </div>
                <div>
                    <h4 class="font-medium text-[#5865F2] mb-1">Discord Server Required</h4>
                    <p class="text-sm text-base-content/80 mb-3">
                        You must be a member of our Discord server to accept this invite.
                    </p>
                    {% if setting_discord_server_invite_url %}
                        <a href="{{ setting_discord_server_invite_url }}" target="_blank" rel="noopener noreferrer" 
                           class="btn bg-[#5865F2] hover:bg-[#4752C4] border-[#5865F2] hover:border-[#4752C4] text-white btn-sm">
                            <i class="fa-brands fa-discord mr-2"></i>
                            Join Discord Server First
                            <i class="fa-solid fa-external-link-alt ml-2"></i>
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endif %}

    <form method="POST" action="{{ url_for('invites.process_invite_form', invite_path_or_token=invite_path_or_token) }}">
        {{ form.hidden_tag() }}
        <button name="auth_method" value="discord" type="submit" 
                class="btn bg-[#5865F2] hover:bg-[#4752C4] border-[#5865F2] hover:border-[#4752C4] text-white w-full h-12 text-base font-medium">
            <i class="fa-brands fa-discord mr-2"></i>
            Continue with Discord
        </button>
    </form>
</div>