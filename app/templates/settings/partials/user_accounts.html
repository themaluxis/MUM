<!-- File: app/templates/settings/partials/user_accounts.html -->
<div class="space-y-6">
    <div class="flex items-center gap-3 mb-6">
        <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
            <i class="fa-solid fa-user-plus text-primary text-lg"></i>
        </div>
        <div>
            <h1 class="text-2xl font-bold text-base-content mb-1">User Account Settings</h1>
            <p class="text-base-content/70 text-sm">Configure user account creation and authentication options</p>
        </div>
    </div>
</div>

<form method="POST" action="{{ url_for('settings.user_accounts') }}" class="space-y-6">
    {{ form.hidden_tag() }}
    
    <div class="bg-base-100 border border-base-300 rounded-lg p-6">
        <!-- User Account Creation Section -->
        <div class="space-y-6">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-8 h-8 rounded-full bg-info/20 flex items-center justify-center flex-shrink-0">
                    <i class="fa-solid fa-users text-info text-sm"></i>
                </div>
                <div>
                    <h2 class="text-lg font-semibold text-base-content mb-1">Account Creation</h2>
                    <p class="text-sm text-base-content/70">Control whether users can create accounts through invites</p>
                </div>
            </div>
            
            <div class="bg-base-200/30 rounded-lg p-4 border border-base-300 hover:border-base-300/60 transition-colors">
                <div class="flex items-center gap-2 mb-2">
                    <i class="fa-solid fa-user-check text-info text-sm"></i>
                    <h5 class="font-medium text-base-content">{{ form.allow_user_accounts.label.text }}</h5>
                </div>
                <label class="label cursor-pointer justify-start p-0">
                    {{ form.allow_user_accounts(class="toggle toggle-primary mr-3", id="allow_user_accounts") }}
                    <span class="text-sm text-base-content/80">Allow users to create accounts via invites</span>
                </label>
                <p class="text-xs text-base-content/60 mt-2">{{ form.allow_user_accounts.description }}</p>
            </div>

            <!-- Information Card -->
            <div class="bg-info/10 border border-info/20 rounded-lg p-4">
                <div class="flex items-start gap-3">
                    <div class="w-6 h-6 rounded-full bg-info/20 flex items-center justify-center flex-shrink-0 mt-0.5">
                        <i class="fa-solid fa-info text-info text-xs"></i>
                    </div>
                    <div>
                        <h4 class="font-medium text-info mb-1">How User Accounts Work</h4>
                        <p class="text-sm text-base-content/80 leading-relaxed">
                            When enabled, users who receive invites will be prompted to create a user account before accessing media servers. 
                            This allows them to log in to the application, view their streaming history, and manage their own settings. 
                            When disabled, invites will only provide direct access to media servers without creating application accounts.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Save Button -->
        <div class="flex justify-end pt-6 border-t border-base-300 mt-6">
            {{ form.submit(class="btn btn-primary h-11") }}
        </div>
    </div>
</form>