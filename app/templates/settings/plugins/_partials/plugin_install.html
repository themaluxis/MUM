<!-- File: app/templates/settings/partials/_plugin_install.html -->
<div class="mb-6">
    <a href="{{ url_for('plugin_management.index') }}" class="btn btn-ghost">
        <i class="fas fa-arrow-left mr-2"></i>
        Back to Plugin Manager
    </a>
</div>

<div class="card bg-base-100 shadow-xl">
    <div class="card-body">
        <h2 class="card-title mb-4">
            <i class="fas fa-upload mr-2"></i>
            Upload Plugin File
        </h2>
        
        <form method="POST" enctype="multipart/form-data">
            <div class="form-control w-full mb-6">
                <label class="label">
                    <span class="label-text">Plugin Archive</span>
                </label>
                <input type="file" 
                       name="plugin_file" 
                       accept=".zip,.tar.gz"
                       class="file-input file-input-bordered w-full" 
                       required>
                <div class="label">
                    <span class="label-text-alt">Supported formats: .zip, .tar.gz</span>
                </div>
            </div>

            <div class="card-actions justify-end">
                <a href="{{ url_for('plugin_management.index') }}" class="btn btn-ghost">Cancel</a>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-upload mr-2"></i>
                    Install Plugin
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Plugin Development Info -->
<div class="card bg-base-100 shadow-xl mt-6">
    <div class="card-body">
        <h2 class="card-title mb-4">
            <i class="fas fa-code mr-2"></i>
            Plugin Development
        </h2>
        
        <div class="space-y-4 text-sm">
            <div>
                <h3 class="font-semibold mb-2">Creating a Plugin</h3>
                <p class="text-gray-600 mb-2">
                    To create a custom plugin for MUM, you need to:
                </p>
                <ol class="list-decimal list-inside space-y-1 text-gray-600 ml-4">
                    <li>Create a class that extends <code class="bg-base-200 px-1 rounded">BaseMediaService</code></li>
                    <li>Implement all required abstract methods</li>
                    <li>Create a <code class="bg-base-200 px-1 rounded">plugin.json</code> manifest file</li>
                    <li>Package everything in a .zip or .tar.gz archive</li>
                </ol>
            </div>
            
            <div>
                <h3 class="font-semibold mb-2">Plugin Manifest (plugin.json)</h3>
                <div class="mockup-code text-xs">
                    <pre><code>{
  "plugin_id": "my_service",
  "name": "My Media Service",
  "description": "Integration with My Media Service",
  "version": "1.0.0",
  "author": "Your Name",
  "license": "MIT",
  "homepage": "https://github.com/yourname/mum-my-service",
  "module_path": "my_service",
  "service_class": "MyServiceMediaService",
  "supported_features": [
    "user_management",
    "library_access",
    "active_sessions"
  ],
  "min_mum_version": "1.0.0",
  "python_requirements": [
    "requests>=2.25.0"
  ],
  "config_schema": {
    "type": "object",
    "properties": {
      "timeout": {
        "type": "integer",
        "default": 10,
        "minimum": 5,
        "maximum": 60
      }
    }
  }
}</code></pre>
                </div>
            </div>
            
            <div>
                <h3 class="font-semibold mb-2">Required Methods</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-600 ml-4">
                    <li><code class="bg-base-200 px-1 rounded">test_connection()</code> - Test server connectivity</li>
                    <li><code class="bg-base-200 px-1 rounded">get_libraries()</code> - Fetch available libraries</li>
                    <li><code class="bg-base-200 px-1 rounded">get_users()</code> - Fetch server users</li>
                    <li><code class="bg-base-200 px-1 rounded">create_user()</code> - Create new user</li>
                    <li><code class="bg-base-200 px-1 rounded">update_user_access()</code> - Update user permissions</li>
                    <li><code class="bg-base-200 px-1 rounded">delete_user()</code> - Remove user</li>
                    <li><code class="bg-base-200 px-1 rounded">get_active_sessions()</code> - Get streaming sessions</li>
                    <li><code class="bg-base-200 px-1 rounded">terminate_session()</code> - Stop a session</li>
                </ul>
            </div>
            
            <div class="alert alert-info">
                <i class="fas fa-info-circle"></i>
                <div>
                    <h4 class="font-semibold">Documentation</h4>
                    <p class="text-sm">
                        For detailed plugin development documentation and examples, visit the 
                        <a href="#" class="link">MUM Plugin Development Guide</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>