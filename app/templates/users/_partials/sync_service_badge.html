{# Reusable service badge component for sync results #}
{# Parameters: service_type, server_name, username (for avatar) #}
{% set service_configs = {
    'plex': {
        'bg_class': 'bg-plex-50 dark:bg-plex-400/10',
        'text_class': 'text-plex-700 dark:text-plex-400',
        'ring_class': 'ring-plex-600/20 dark:ring-plex-500/20',
        'avatar_bg': 'bg-plex',
        'icon': '<svg class="w-3 h-3" viewBox="0 0 192 192" xmlns="http://www.w3.org/2000/svg" fill="currentColor" stroke="transparent" stroke-linejoin="round" stroke-width="12"><path d="M22 25.5h48L116 94l-46 68.5H22L68.5 94Zm109.8 56L108 46l14-20.5h48zm-.3 23.5c10.979 17.625 25.52 38.875 38.5 49.5-11.149 13.635-34.323 32.278-62.5-14z"/></svg>'
    },
    'jellyfin': {
        'bg_class': 'bg-jellyfin-50 dark:bg-jellyfin-400/10',
        'text_class': 'text-jellyfin-700 dark:text-jellyfin-400',
        'ring_class': 'ring-jellyfin-600/20 dark:ring-jellyfin-500/20',
        'avatar_bg': 'bg-jellyfin',
        'icon': '<i class="fa-solid fa-cube w-3 h-3"></i>'
    },
    'emby': {
        'bg_class': 'bg-emby-50 dark:bg-emby-400/10',
        'text_class': 'text-emby-700 dark:text-emby-400',
        'ring_class': 'ring-emby-600/20 dark:ring-emby-500/20',
        'avatar_bg': 'bg-emby',
        'icon': '<i class="fa-solid fa-play-circle w-3 h-3"></i>'
    },
    'kavita': {
        'bg_class': 'bg-kavita-50 dark:bg-kavita-400/10',
        'text_class': 'text-kavita-700 dark:text-kavita-400',
        'ring_class': 'ring-kavita-600/20 dark:ring-kavita-500/20',
        'avatar_bg': 'bg-kavita',
        'icon': '<i class="fa-solid fa-book w-3 h-3"></i>'
    },
    'audiobookshelf': {
        'bg_class': 'bg-audiobookshelf-50 dark:bg-audiobookshelf-400/10',
        'text_class': 'text-audiobookshelf-700 dark:text-audiobookshelf-400',
        'ring_class': 'ring-audiobookshelf-600/20 dark:ring-audiobookshelf-500/20',
        'avatar_bg': 'bg-audiobookshelf',
        'icon': '<i class="fa-solid fa-headphones w-3 h-3"></i>'
    },
    'komga': {
        'bg_class': 'bg-komga-50 dark:bg-komga-400/10',
        'text_class': 'text-komga-700 dark:text-komga-400',
        'ring_class': 'ring-komga-600/20 dark:ring-komga-500/20',
        'avatar_bg': 'bg-komga',
        'icon': '<i class="fa-solid fa-book-open w-3 h-3"></i>'
    },
    'romm': {
        'bg_class': 'bg-romm-50 dark:bg-romm-400/10',
        'text_class': 'text-romm-700 dark:text-romm-400',
        'ring_class': 'ring-romm-600/20 dark:ring-romm-500/20',
        'avatar_bg': 'bg-romm',
        'icon': '<i class="fa-solid fa-gamepad w-3 h-3"></i>'
    }
} %}

{% set service_type_lower = service_type.lower() %}
{% set config = service_configs.get(service_type_lower, {
    'bg_class': 'bg-gray-50 dark:bg-gray-400/10',
    'text_class': 'text-gray-700 dark:text-gray-400',
    'ring_class': 'ring-gray-600/20 dark:ring-gray-500/20',
    'avatar_bg': 'bg-gray-500',
    'icon': '<i class="fa-solid fa-server w-3 h-3"></i>'
}) %}

<div class="flex items-center gap-2">
    <div class="avatar">
        <div class="w-6 h-6 rounded-full">
            <div class="{{ config.avatar_bg }} text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-normal">
                {{ username[0]|upper if username else service_type[0]|upper }}
            </div>
        </div>
    </div>
    <span class="font-medium text-base-content text-sm">{{ username }}</span>
    <span class="inline-flex items-center rounded-md {{ config.bg_class }} px-2 py-1 text-xs font-medium {{ config.text_class }} ring-1 ring-inset {{ config.ring_class }} gap-1">
        {{ config.icon|safe }}
        {{ server_name }}
    </span>
</div>